var closerFunc=function(t){jQuery("body").removeClass("nav-sidebar-open login-sidebar-open"),void 0===t&&(t=function(){return!0}),t()};!function(t){"use strict";t("#main-menu").click(function(e){e.preventDefault(),t(this).is("#login")?t("body").addClass("login-sidebar-open"):t("body").addClass("nav-sidebar-open")}),t("#acctmodal, .close, .sttvmodal").on("click touchstart",function(t){t.preventDefault(),closerFunc()}),t(".read-more").on("click touchstart",function(e){e.preventDefault(),t(this).parent().css({display:"none"}),t("#content-wrapper").css({"max-height":"none"})});var e=t("body.nav-sidebar-open #main-nav");e.on("click touchstart",function(t){t.offsetX>e.offsetWidth&&(alert("Clicked!"),t.preventDefault(),closerFunc())}),t("li.menu-item-has-children>a").click(function(e){e.preventDefault(),t(this).siblings("ul.sub-menu").toggleClass("active").promise().done(function(){t("ul.sub-menu").not(this).removeClass("active")})}),t("form#sttv_login_form").on("submit",function(e){e.preventDefault();var n='<img src="'+sttvAjax.contentURL+'/i/sttv-spinner.gif" alt="Loading..." />',o=t("#loading_overlay");o.html(n).promise().done(function(){t(this).fadeIn(250)});var s={action:"sttvlogin",nonce:this.sttv_nonce_ver.value,sttv_login:this.sttv_user.value,sttv_pass:this.sttv_pass.value,g_recaptcha_response:grecaptcha.getResponse()};t.post(sttvAjax.ajaxURL,s,function(e){console.log(e),!1===e.success?(o.fadeOut(250),t("p.error").html(e.data.message).css("display","block")):(o.empty().html('<p class="sblock"><strong><i class="material-icons">done</i></strong></p>').fadeIn(250),t(".sblock").hide().fadeIn(250),setTimeout(function(){window.location.replace("/my-account")},3e3))})})}(jQuery),function(t){"use strict";t(document).ready(function(){t("select").material_select()}),t("#logout-btn a").click(function(e){e.preventDefault(),t.post(stajax.rest.url+"/auth?action=logout",function(t){window.location.href=t})})}(jQuery),$(".submitter").click(function(t){t.preventDefault();var e={form:$(this).closest("form"),token:$(".g-recaptcha-response",this.form).val(),whichForm:$('input[name="whichform"]',this.form).val()};e.formSer=e.form.serialize(),e.formData={action:"sttvsubmitter",value:e.formSer},e.action={ld:$(".loading_overlay",e.form.parent()),postForm:function(){return $.post(stajax.ajaxURL,e.formData,function(t){},"json")},beforeSubmit:function(){var t='<img src="'+stajax.contentURL+'/i/sttv-spinner.gif" alt="Loading..." />';this.ld.html(t).promise().done(function(){$(this).fadeIn(500)})},formSuccess:function(t){var n=t.data;if(this.ld.empty().html('<p class="sblock"><i class="material-icons">done</i></p>').fadeIn(500),n.name)$(".sblock",this.ld).hide().fadeIn(500,function(){window.location.replace("/my-account")});else if(n.sent||n.subscribed){var o=$(".sblock",this.ld);$("<p/>",{class:"smessage"}).appendTo(o).append(n.message),$("#"+e.form.attr("id")+" :input").prop("disabled",!0)}else alert("Something went wrong. Please reload the page.")},formFail:function(t){this.ld.fadeOut(500),$("p.message",e.form).html(t.data.message).css("display","block")}};var n=e.action;null==e.token||0!==e.token.length?(n.beforeSubmit(),n.postForm().done(function(t){return t.success?n.formSuccess(t):n.formFail(t)})):alert("Please prove you're not a robot!")});
//# sourceMappingURL=sttv-js.min.js.map
