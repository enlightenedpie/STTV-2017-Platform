var _st={analytics:function(t){if(void 0===t)return!1;var e=t.page||!1,s=t.pageview||!1,a=t.event||!1,i=t.action||t.data;return data=t.data||!1,"string"==typeof i&&"object"==typeof data?ga(t.type,i,data):void 0!==t.type&&ga(t.type,i),a&&ga("send","event",a.name),s?e?ga("send","pageview",e):ga("send","pageview"):s},parseParams:function(t,e){return(t||document.location.search).replace(/(^\?)/,"").replace(e,"").split("&").map(function(t){return this[(t=t.split("="))[0]]=t[1],this}.bind({}))[0]},request:function(a){var t={url:a.route||"",method:a.method||"GET",headers:a.headers||{},processData:!1,dataType:a.dataType||"json",success:function(t){void 0!==a.success&&a.success(t)},error:function(t,e,s){void 0!==a.error&&a.error([t,e,s])}};"GET"!==t.method&&(t.data=JSON.stringify(a.cdata||{})),void 0!==a.accepts&&(t.accepts=a.accepts),$.ajax(t)},menu:function(t){$("body").toggleClass("nav-sidebar-open"),"function"==typeof t&&t()},closer:function(t){jQuery("body").removeClass("nav-sidebar-open modal-open"),"function"==typeof t&&t()},form:{valid:!1,disableForm:function(t){$(".signup-submit",t).prop("disabled",!this.valid)},validate:function(s){$("input,select",s).each(function(t,e){if(!$(this).is(":required")||!($(this).val()&&!$(this).hasClass("invalid")||$(this).hasClass("valid")))return _st.form.valid=!1,_st.form.disableForm(s),!1;_st.form.valid=!0}),this.disableForm(s)}},heartBeat:function(){_st.request({route:stajax.rootURL+"/ping.php",success:function(t){try{if(!t)throw new Exception("Invalid response from _st.heartBeat.");for(;$(document).dequeue("heartbeat"),$(document).queue("heartbeat").length;);}catch(t){console.log(t)}},error:function(t,e,s){Materialize.toast("Offline",6e3),console.log(t,e,s)}})},login:function(e){_st.request({route:stajax.rest.url+"/auth",headers:{},success:function(t){e.append(t),_st.modal.loader()},error:function(t){console.log(t)}})},modal:($(".loading-spinner").each(function(t){$(this).attr("src",stajax.contentURL+"/i/sttv-spinner.gif")}),{action:"",element:$("#sttvmodal"),inner:$(".sttvmodal_inner"),init:function(t){if(void 0===t)return!1;if(this.action===t)return this.toggle();var e;switch("close"!==t&&(this.action=t,_st.modal.loader(function(){_st.modal.inner.empty()})),t){case"close":break;case"login":e=function(t){_st.login(t)};break;case"account":e=function(t){};break;case"mu-checkout":e=function(t){_st.mu.submit(t,"#mu_form_wrapper")};break;case"mu-signup":e=function(t){_st.mu.register(t,"#mu_form_wrapper")};break;case"sttv-cart":case"checkout":e=function(t){_st.cart.submit(!0,t)}}this.toggle(e)},toggle:function(t){$("body").toggleClass("modal-open"),"function"==typeof t&&t(_st.modal.inner)},loader:function(t){_st.modal.element.toggleClass("loader-active"),"function"==typeof t&&t(_st.modal.inner)}}),cart:function(){if("courses"===stajax.type)return!1;var t=JSON.parse(localStorage.getItem("_stcart_")),e=Date.now();for(var s in(null===t||86400+(t.ID/1e3|0)<e/1e3|0)&&(t={ID:e,signature:btoa(navigator.userAgent+"|"+navigator.platform+"|"+navigator.product).replace(/=/g,""),items:{}}),t.items){"multi-user"===t.items[s].type&&delete t.items[s]}var a=Object.keys(t.items).length,i=$("<div/>",{id:"cart-FAB"}),n=$("<a/>",{class:"cart-fab btn-floating btn-large z-depth-5"}),o=$("<i/>",{class:"material-icons",text:"shopping_cart"}),l=$("<div/>",{class:"cart-alert circle z-depth-2"});return $("body").addClass("sttv-jscart"),i.append(l.text(a)).append(n.append(o)).appendTo(document.body),0<a&&l.addClass("show").siblings(".cart-fab").addClass("pulse"),localStorage.setItem("_stcart_",JSON.stringify(t)),{cartObj:t,changed:[],add:function(t,e){if(e=e||!1,"object"!=typeof t)throw"Item must be an object";var s=this.cartObj.items,a="";return void 0===s[t.id]?(s[t.id]=t,a="Item added"):"subscription"!==t.type&&(s[t.id].qty+=t.qty,a="Quantity updated"),this.changed.push(t.id),this.save(e),_st.analytics({type:"ec:addProduct",data:{id:t.id,name:t.name,brand:"SupertutorTV",category:t.type,quantity:t.qty,price:(t.price/100).toFixed(2)}}),_st.analytics({type:"ec:setAction",action:"add"}),a},remove:function(t,e){return e=e||!1,"string"==typeof t&&(delete this.cartObj.items[t],this.save(e))},empty:function(t){return this.cartObj.items={},this.save(),"function"==typeof t&&t(this)},unset:function(t){return localStorage.removeItem("_stcart_"),"function"==typeof t&&t(this)},save:function(t){return localStorage.setItem("_stcart_",JSON.stringify(this.cartObj)),!t&&this.notifications.update()},get:function(){return this.cartObj.items},notifications:{count:a,element:l,update:function(){return this.count=Object.keys(_st.cart.cartObj.items).length,this.count<=0?$(".cart-alert").removeClass("show").siblings(".cart-fab").removeClass("pulse"):$(".cart-alert").addClass("show").siblings(".cart-fab").addClass("pulse"),$(".cart-alert").text(this.count),this.count}},submit:function(t,a){var i={init:t||!1,cart:this.get()};_st.analytics({type:"ec:setAction",action:"click",pageview:!0}),_st.request({route:stajax.rest.url+"/checkout",method:"POST",cdata:i,headers:{},success:function(t){for(var e in _st.checkout="subscription",a.append(t.html),_st.modal.loader(),i.cart){var s=i.cart[e];_st.analytics({type:"ec:addProduct",data:{id:s.id,name:s.name,brand:"SupertutorTV",category:s.type,quantity:s.qty,price:(s.price/100).toFixed(2)}})}_st.analytics({type:"ec:setAction",action:"checkout",data:{step:1},pageview:!0,page:"/checkout"})},error:function(t){console.log(t);t[0].responseJSON;_st.modal.toggle(function(){_st.modal.loader()})}})}}}(),checkout:"",mu:{submit:function(t,s){var e={mukey:$("input[name=mukey]",s).val(),email:$("input[name=email]",s).val(),license:{id:$("select[name=sttv_course_id]",s).val(),title:$("select[name=sttv_course_id] option:selected",s).text(),qty:$("select[name=qty]",s).val()}};_st.request({route:stajax.rest.url+"/multi-user",method:"POST",cdata:e,headers:{"X-WP-Nonce":stajax.rest.nonce},success:function(e){_st.checkout="multi-user",_st.cart.empty(function(t){t.add(e.data,!0)}),t.append(e.html),_st.modal.loader(),console.log(e)},error:function(t){var e=t[0].responseJSON;$(".message",s).text(e.message),_st.modal.toggle(function(){_st.modal.loader()}),console.log(e)}})},register:function(e,s){var t={muid:$("input[name=mukey]",s).val(),email:$("input[name=sttv_email]",s).val(),password:$("input[name=sttv_password]",s).val(),firstName:$("input[name=sttv_firstname]",s).val(),lastName:$("input[name=sttv_lastname]",s).val()};_st.request({route:stajax.rest.url+"/checkout",method:"POST",cdata:t,headers:{"X-WP-Nonce":stajax.rest.nonce},success:function(t){e.append(t.html),_st.modal.loader(),setTimeout(function(){window.location.href=t.data.redirect},2e3),console.log(t)},error:function(t){console.log(t);var e=t[0].responseJSON;$(".message",s).text(e.message),_st.modal.toggle(function(){_st.modal.loader()})}})}},scroll:function(t){$("html, body").stop().animate({scrollTop:$(t).offset().top-100},1250,"swing")},fn:function(){}};!function(n){"use strict";n("input, select","#mu_form_wrapper").on("change",function(t){_st.form.validate("#mu_form_wrapper"),_st.modal.action=""});n(document).on("click",".slide-bar, .modal-toggle, .mu-signup, .read-more, .mu-submitter, .cart-fab, .payment-launcher",function(t){t.preventDefault();var e=n(this),s=e.attr("class").split(/\s+/),a=e.attr("data-action"),i={"mu-signup":function(){_st.modal.init("mu-signup")},"payment-launcher":function(){n(".sttvmodal_inner").append("<section id='checkout-wrapper' class='row'> \t <div id='checkout-info' class='align-middle' style='display:block;'> \t\t\t\t <div id='wrapper_line-item' class='col s12'> \t\t\t\t\t\t <div id='customer_info' class='row'> \t\t\t\t\t\t\t\t <div id='account_info' class='col s12'> \t\t\t\t\t\t\t\t\t\t <div class='row'> \t\t\t\t\t\t\t\t\t\t\t\t <h4>Your Information</h4> \t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field left-col col s6'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_firstname' type='text' class='validate' name='sttv_firstname' value='' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='sttv_firstname'>First Name</label> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field left-col col s6'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_lastname' type='text' class='validate' name='sttv_lastname' value='' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='sttv_lastname'>Last Name</label> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_email' class='validate' name='sttv_email' type='email' value='' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='sttv_email'>Email Address</label> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_password' name='sttv_password' type='password' value='' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='sttv_password'>Choose Password</label> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_phone' class='validate' name='sttv_phone' type='tel' value='' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <label data-error='Invalid phone number' for='sttv_phone'>Phone Number</label> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t <input type='button' class='next_button' onClick=changePanel('checkout-info','checkout-billing') value='next' style='float: right;'/> \t\t\t\t\t\t </div> \t\t\t\t\t </div> \t\t\t <div id='checkout-billing' class='align-middle' style='display:none;'> \t\t\t\t\t\t <div id='wrapper_line-item' class='col s12'> \t\t\t\t\t\t\t <div id='billing_info' class='col s12'> \t\t\t\t\t\t\t\t\t <div id='billing_fields' class='row'> \t\t\t\t\t\t\t\t\t\t\t <h4>Billing Address</h4> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_billing_address1' name='sttv_billing_address1' type='text' class='validate' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t <label class='active' for='sttv_billing_address1' data-error='Invalid format' >Address Line 1</label> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_billing_address2' name='sttv_billing_address2' type='text' /> \t\t\t\t\t\t\t\t\t\t\t\t\t <label class='active' for='sttv_billing_address2'>Address Line 2</label> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_billing_city' name='sttv_billing_city' class='validate' type='text' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t <label class='active' for='sttv_billing_city'>City</label> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field left-col col s6'> \t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_billing_state' name='sttv_billing_state' class='validate' type='text' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t <label class='active' for='sttv_billing_state'>State</label> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s6'> \t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_billing_pcode' name='sttv_billing_pcode' class='validate' type='tel' required/> \t\t\t\t\t\t\t\t\t\t\t\t\t <label class='active' for='sttv_billing_pcode'>Postal Code</label> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t <select class='country-dd' name='sttv_billing_country' required> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <option value disabled selected>Country...</option> \t\t\t\t\t\t\t\t\t\t\t\t\t </select> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t <input class='filled-in' type='checkbox' id='same_as_billing'/><label for='same_as_billing'>Use same shipping address</label> \t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t <input type='button' class='next_button' onClick=changePanel('checkout-billing','checkout-info') value='prev'/> \t\t\t\t\t\t\t\t\t <input type='button' class='next_button' onClick=changePanel('checkout-billing','checkout-shipping') value='next' style='float: right;'/> \t\t\t\t\t\t\t </div> \t\t\t\t\t\t </div> \t\t\t\t </div> \t\t <div id='checkout-shipping' class='align-middle' style='display:none;'> \t\t\t\t <div id='shipping_info' class='col s12'> \t\t\t\t\t\t <div id='shipping_fields' class='row'> \t\t\t\t\t\t\t\t <h4>Shipping Address</h4> \t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t <input id='sttv_shipping_address1' name='sttv_shipping_address1' type='text' class='validate' required/> \t\t\t\t\t\t\t\t\t\t <label for='sttv_shipping_address1' data-error='Invalid format' >Address Line 1</label> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t <input id='sttv_shipping_address2' name='sttv_shipping_address2' type='text' /> \t\t\t\t\t\t\t\t\t\t <label for='sttv_shipping_address2'>Address Line 2</label> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t <input id='sttv_shipping_city' class='validate' name='sttv_shipping_city' type='text' required/> \t\t\t\t\t\t\t\t\t\t <label for='sttv_shipping_city'>City</label> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='input-field left-col col s6'> \t\t\t\t\t\t\t\t\t\t <input id='sttv_shipping_state' class='validate' name='sttv_shipping_state' type='text' required/> \t\t\t\t\t\t\t\t\t\t <label for='sttv_shipping_state'>State</label> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='input-field col s6'> \t\t\t\t\t\t\t\t\t\t <input id='sttv_shipping_pcode' class='validate' name='sttv_shipping_pcode' type='tel' required/> \t\t\t\t\t\t\t\t\t\t <label for='sttv_shipping_pcode'>Postal Code</label> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t\t\t <select class='country-dd validate' name='sttv_shipping_country' required> \t\t\t\t\t\t\t\t\t\t\t\t <option value disabled selected>Country...</option> \t\t\t\t\t\t\t\t\t\t </select> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t </div> \t\t\t\t\t\t <input type='button' class='next_button' onClick=changePanel('checkout-shipping','checkout-billing') value='prev'/> \t\t\t\t\t\t <input type='button' class='next_button' onClick=changePanel('checkout-shipping','checkout-order') value='next' style='float: right;'/> \t\t\t\t </div> \t\t </div> \t\t <div id='checkout-order' class='align-middle' style='display:none;'> \t\t\t\t <div class='row'> \t\t\t\t\t\t <h4>Your Order</h4> \t\t\t\t\t\t <div class='col s12' style='margin-top:10px'> \t\t\t\t\t\t\t\t <div class='row'> \t\t\t\t\t\t\t\t\t\t <div id='shipping_options' class='col s12' style='margin-top:1%'> \t\t\t\t\t\t\t\t\t\t\t\t <div class='shp-msg'> \t\t\t\t\t\t\t\t\t\t\t\t\t <span>Shipping is for U.S. orders only.</span> \t\t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field col s12' style='margin-top:0px'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <p> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='freeship' name='shipping_options' type='radio' value='0' checked /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='freeship'>Free Shipping (1-3 weeks)</label> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </p> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <p> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='priship' name='shipping_options' type='radio' value='1285' /> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='priship'>Priority Shipping (3-4 days)</label> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </p> \t\t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t </div> \t\t\t\t\t\t <div id='cart-column' class='col s12'> \t\t\t\t\t\t\t\t <div class='row headings-row'> \t\t\t\t\t\t\t\t\t\t <div class='col s2'>Qty</div> \t\t\t\t\t\t\t\t\t\t <div class='col s8'>Item</div> \t\t\t\t\t\t\t\t\t\t <div class='col s2 right-align'>Price</div> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='items-row'></div> \t\t\t\t\t\t\t\t <div class='row totals-row'> \t\t\t\t\t\t\t\t\t\t <div class='col s8'> \t\t\t\t\t\t\t\t\t\t\t\t <div class='input-field coupon col s12'> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <input id='sttv_coupon' name='sttv_coupon' type='text'/> \t\t\t\t\t\t\t\t\t\t\t\t\t\t <label for='sttv_coupon'>Coupon Code</label> \t\t\t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t\t\t <div id='total' class='col s4 right-align'><span id='ttltxt'>Total: $<span>0</span></span></div> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t </div> \t\t\t\t </div> \t\t\t\t <div class='card-content row'> \t\t\t\t\t\t <h4>Payment</h4> \t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t <input name='sttv_cardname' type='text' required/> \t\t\t\t\t\t\t\t <label class='active' for='sttv_cardname'>Name On Card</label> \t\t\t\t\t\t </div> \t\t\t\t\t\t <div class='input-field col s12'> \t\t\t\t\t\t\t\t <div id='sttv_card_element'></div> \t\t\t\t\t\t </div> \t\t\t\t\t\t <div class='col s12'> \t\t\t\t\t\t\t\t <div class='input-field col s12' style='margin-top:0px'> \t\t\t\t\t\t\t\t\t\t <input class='filled-in' type='checkbox' name='sttv_mailinglist' id='sttv_mailinglist' checked/><label for='sttv_mailinglist'>Sign me up for promos, coupons, and giveaways from SupertutorTV</label><br/> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\t\t <div class='tandc col s12'> \t\t\t\t\t\t\t\t\t\t <span>By submitting this payment, you agree to SupertutorTV's <a class='azure' href='' target='blank'>Terms and Conditions</a>.</span> \t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t </div> \t\t\t\t\t\t <div class='col s12'> \t\t\t\t\t\t\t\t <button type='submit' class='signup-submit button-wide z-depth-1 waves-effect waves-light' disabled><span>Place Order</span></button> \t\t\t\t\t\t </div> \t\t\t\t\t\t <div class='col s12'> \t\t\t\t\t\t\t\t <p class='error token'>&nbsp;</p> \t\t\t\t\t\t </div> \t\t\t\t\t\t <input type='button' class='next_button' onClick=changePanel('checkout-order','checkout-shipping') value='prev'/> \t\t\t\t </div> \t\t </div>  </section>  <script type='text/javascript' src='/wp-content/themes/sttv_2017/s/checkout.js' id='sttv-checkout-js'><\/script>"),_st.modal.init("checkout")},"modal-toggle":function(){"account"==a?window.location.href=e.attr("href"):_st.modal.init(a)},"slide-bar":function(){_st.menu()},"read-more":function(){e.parent().css({display:"none"}),n("#content-wrapper").css({"max-height":"none"})},"mu-submitter":function(){_st.modal.init("mu-checkout")},"cart-fab":function(){_st.modal.init("sttv-cart")}};s.some(function(t){void 0!==i[t]&&i[t]()})}),n(document).on("click",".st-scroll",function(t){t.preventDefault(),_st.scroll(t.target.getAttribute("href"))});var e=n("body.nav-sidebar-open #main-nav");e.on("click touchstart",function(t){t.offsetX>e.offsetWidth&&(alert("Clicked!"),t.preventDefault(),_st.closer())}),n("li.menu-item-has-children>a").click(function(t){t.preventDefault(),n(this).siblings("ul.sub-menu").toggleClass("active").promise().done(function(){n("ul.sub-menu").not(this).removeClass("active")})}),n(document).on("submit","form#sttv_login_form",function(t){if(t.preventDefault(),0!==n("#sttv_user").val().length){var e='<img src="'+stajax.contentURL+'/i/sttv-spinner.gif" alt="Loading..." />',a=n(".loading_overlay");a.append(e).promise().done(function(){n(this).fadeIn(250)}),_st.request({route:stajax.rest.url+"/auth?action=login",method:"POST",headers:{"X-WP-Nonce":stajax.rest.nonce,"X-STTV-Auth":btoa(this.sttv_user.value+":"+this.sttv_pass.value)},success:function(t){"login_success"==t.code&&(a.empty().html('<p class="sblock"><strong><i class="material-icons">done</i></strong></p>').fadeIn(250),n(".sblock").hide().fadeIn(250),setTimeout(function(){window.location.href=t.redirect},250))},error:function(t){var e=t[0].responseJSON,s=void 0!==e.errors.too_many_retries?e.errors.too_many_retries[0]:e.message;n(".message").html(s),a.fadeOut(250),console.log(e)}})}else n(".message").html("Username is required")}),n("form#sttv_contact").on("submit",function(t){t.preventDefault();var s=n(".loading_overlay",n(this).parent()).html('<img src="'+stajax.contentURL+'/i/sttv-spinner.gif" alt="Loading..." />');s.fadeIn(250),_st.request({route:stajax.rest.url+"/contact",method:"POST",headers:{"X-WP-Nonce":stajax.rest.nonce},cdata:{g_recaptcha_response:grecaptcha.getResponse(),sttv_contact_name:this.sttv_contact_name.value,sttv_contact_email:this.sttv_contact_email.value,sttv_contact_subject:this.sttv_contact_subject.value,sttv_contact_message:this.sttv_contact_message.value},success:function(t){if(console.log(t),t.sent){s.empty().html('<p class="sblock"><strong><i class="material-icons">done</i></strong></p>').fadeIn(250);var e=n(".sblock");n("<p/>",{class:"smessage"}).appendTo(e).append(t.message),n(".sblock").hide().fadeIn(250)}else n(".message").html(t.message),s.fadeOut(250)},error:function(t){n(".message").html("Something went wrong. Please refresh the page and try again."),s.fadeOut(250),console.log(t)}})}),n("#subscribe_page_mc").on("submit",function(t){t.preventDefault();var s=n(this),a=n(".loading_overlay",n(this).parent()).html('<img src="'+stajax.contentURL+'/i/sttv-spinner.gif" alt="Loading..." />');a.fadeIn(250);var e={fname:n("#sttv_mc_fname",s).val(),lname:n("#sttv_mc_lname",s).val(),email:n("#sttv_mc_email",s).val(),g_recaptcha_response:grecaptcha.getResponse()};_st.request({route:stajax.rest.url+"/subscribe",method:"POST",cdata:e,headers:{"X-WP-Nonce":stajax.rest.nonce},success:function(t){n("input, button",s).prop("disabled",!0),grecaptcha.reset(),a.empty().html('<p class="sblock"><strong><i class="material-icons">done</i></strong></p>').fadeIn(250);var e=n(".sblock");n("<p/>",{class:"smessage"}).appendTo(e).append(t.message),n(".sblock").hide().fadeIn(250),console.log(t)},error:function(t){n(".message",s).html("Something went wrong. Please refresh the page and try again."),a.fadeOut(250),console.log(t)}})})}(jQuery),function(t){"use strict";t(document).ready(function(){t("select").formSelect()})}(jQuery);
//# sourceMappingURL=sttv-js.min.js.map
