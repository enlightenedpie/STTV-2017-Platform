{"version":3,"sources":["modules/base/_sss.js","modules/sttv-material.js","modules/sttv-validate.js"],"names":["closerFunc","callback","jQuery","removeClass","$","click","e","preventDefault","this","is","addClass","on","parent","css","display","max-height","thenav","offsetX","offsetWidth","alert","siblings","toggleClass","promise","done","not","loader","sttvAjax","contentURL","ld","html","fadeIn","formData","action","nonce","sttv_nonce_ver","value","sttv_login","sttv_user","sttv_pass","g_recaptcha_response","grecaptcha","getResponse","post","ajaxURL","data","console","log","success","fadeOut","message","empty","hide","setTimeout","window","location","replace","document","ready","material_select","submitter","form","closest","token","val","whichForm","formSer","serialize","postForm","stajax","beforeSubmit","formSuccess","d","name","sent","subscribed","append","attr","prop","formFail","sa","length","fdata"],"mappings":"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","file":"sttv-js.min.js","sourcesContent":["// Closer function\nvar closerFunc = function(callback) {\n\tjQuery('body').removeClass('nav-sidebar-open login-sidebar-open');\n\tif (typeof callback == 'undefined') {callback = function(){return true;}}\n\tcallback();\n};\n( function ( $ ) { //begin wrapper\n\t\"use strict\";\n\n// Opener functions\n\n$('#main-menu').click(function(e) {\n\te.preventDefault();\n\tif ( $(this).is( \"#login\" )) {\n\t\t$('body').addClass('login-sidebar-open');\n\t} else {\n\t\t$('body').addClass('nav-sidebar-open');\n\t}\n});\n\n$('#acctmodal, .close, .sttvmodal').on('click touchstart',function(e) {\n\te.preventDefault();\n\tcloserFunc();\n});\n$('.read-more').on('click touchstart',function(e) {\n\te.preventDefault();\n\t$(this).parent().css({'display':'none'});\n\t$('#content-wrapper').css({'max-height':'none'});\n});\n\t\nvar thenav = $('body.nav-sidebar-open #main-nav');\nthenav.on('click touchstart',function(e) {\n\tif (e.offsetX > thenav.offsetWidth) {\n\t\talert('Clicked!');\n\t\te.preventDefault();\n\t\tcloserFunc();\n\t}\n});\n\n$('li.menu-item-has-children>a').click(function(e) {\n\te.preventDefault();\n\t//console.log('click happened');\n\t$(this).siblings('ul.sub-menu').toggleClass('active').promise().done(function(){\n\t\t$('ul.sub-menu').not(this).removeClass('active');\n\t});\n});\n\n$('form#sttv_login_form').on('submit',function(e) {\n\te.preventDefault();\n\tvar loader = '<img src=\"'+sttvAjax.contentURL+'/i/sttv-spinner.gif\" alt=\"Loading...\" />';\n\tvar ld = $('#loading_overlay');\n\t\tld.html(loader).promise().done(function(){\n\t\t\t$(this).fadeIn(250);\n\t\t});\n\t\t\n\t\t\n\tvar formData = {\n\t\taction: 'sttvlogin',\n\t\tnonce:  this.sttv_nonce_ver.value,\n\t\tsttv_login: this.sttv_user.value,\n\t\tsttv_pass: this.sttv_pass.value,\n\t\tg_recaptcha_response: grecaptcha.getResponse()\n\t};\n\t\n\t$.post(sttvAjax.ajaxURL, formData, function(data){\n\t\t\tconsole.log(data);\n\t\t\tif(data.success === false){\n\t\t\t\tld.fadeOut(250);\n\t\t\t\t$('p.error').html(data.data.message).css('display','block');\n\t\t\t} else {\n\t\t\t\tld.empty().html('<p class=\"sblock\"><strong><i class=\"material-icons\">done</i></strong></p>').fadeIn(250);\n\t\t\t\t$('.sblock').hide().fadeIn(250);\n\t\t\t\t\tsetTimeout(function(){window.location.replace('/my-account');},3000);\n\t\t\t}\n\t\t\t\n\t\t});\n});\n\n} ( jQuery ) ); //end wrapper","( function ( $ ) { //begin wrapper\n\t\"use strict\";\n\t\n\t\n\t$(document).ready(function() {\n    \t$('select').material_select();\n  \t});\n  \n  \n  \n  } ( jQuery ) ); //end wrapper","$('.submitter').click(function(e) {\n\t\te.preventDefault();\n\t\t\n\t\tvar submitter = {\n\t\t\t\tform : $(this).closest('form'),\n\t\t\t\ttoken : $('.g-recaptcha-response',this.form).val(),\n\t\t\t\twhichForm : $('input[name=\"whichform\"]',this.form).val()\n\t\t\t};\n\t\t//console.log(submitter.form.attr('id'));\n\t\tsubmitter.formSer = submitter.form.serialize();\n\t\tsubmitter.formData = {\n\t\t\taction : 'sttvsubmitter',\n\t\t\tvalue : submitter.formSer\n\t\t};\n\t\tsubmitter.action = {\n\t\t\tld : $('.loading_overlay',submitter.form.parent()),\n\t\t\tpostForm : function() {\n\t\t\t\t//var parentThis = this;\n\t\t\t\treturn $.post(\n\t\t\t\t\tstajax.ajaxURL, \n\t\t\t\t\tsubmitter.formData,\n\t\t\t\t\tfunction(data){\n\t\t\t\t\t\t//console.log(data);\n\t\t\t\t},'json');\n\t\t\t},\n\t\t\tbeforeSubmit : function() {\n\t\t\t\tvar loader = '<img src=\"'+stajax.contentURL+'/i/sttv-spinner.gif\" alt=\"Loading...\" />';\n\t\t\t\t\n\t\t\t\tthis.ld.html(loader).promise().done(function(){\n\t\t\t\t\t$(this).fadeIn(500);\n\t\t\t\t});\n\t\t\t},\n\t\t\tformSuccess : function(data) {\n\t\t\t\tvar d = data.data;\n\t\t\t\tthis.ld.empty().html('<p class=\"sblock\"><i class=\"material-icons\">done</i></p>').fadeIn(500);\n\t\t\t\tif (d.name) {\n\t\t\t\t\t$('.sblock',this.ld).hide().fadeIn(500,function() {\n\t\t\t\t\t\twindow.location.replace('/my-account');\n\t\t\t\t\t\t\t//$('#login .link-text').html(d.name);\n\t\t\t\t\t});\n\t\t\t\t} else if (d.sent || d.subscribed) {\n\t\t\t\t\t$('.sblock',this.ld).append('<p class=\"smessage\">'+d.message+'</p>');\n\t\t\t\t\t$(\"#\"+submitter.form.attr('id')+\" :input\").prop(\"disabled\",true);\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Something went wrong. Please reload the page.\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tformFail : function(data) {\n\t\t\t\tthis.ld.fadeOut(500);\n\t\t\t\t$('p.message',submitter.form).html(data.data.message).css('display','block');\n\t\t\t}\n\t\t};\n\t\tvar sa = submitter.action;\n\t\t\n\t\t/** Let's check the recaptcha response, IF it exists **/\n\t\tif (submitter.token != null && submitter.token.length === 0) {\n\t\t\talert('Please prove you\\'re not a robot!');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tsa.beforeSubmit(); /** Loading/Processing overlay **/\n\t\t\n\t\tsa.postForm().done(function(fdata) { //submit the form\n\t\t\t//console.log(fdata);\n\t\t\treturn (fdata.success) ? sa.formSuccess(fdata) : sa.formFail(fdata);\n\t\t});\n\t});"]}