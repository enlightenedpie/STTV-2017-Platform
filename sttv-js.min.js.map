{"version":3,"sources":["modules/base/_sss.js","modules/sttv-material.js"],"names":["_st","request","obj","ajaxp","url","route","method","headers","processData","dataType","success","data","error","x","s","r","JSON","stringify","cdata","accepts","$","ajax","menu","cb","toggleClass","closer","jQuery","removeClass","heartBeat","stajax","rootURL","d","Exception","document","dequeue","queue","length","e","console","log","Materialize","toast","login","el","rest","X-WP-Nonce","nonce","append","modal","loader","each","i","this","attr","contentURL","action","element","init","act","toggle","empty","mu","submit","register","cart","type","cartObj","parse","localStorage","getItem","initDate","Date","now","ID","signature","btoa","navigator","userAgent","platform","product","replace","items","key","currentCount","Object","keys","fabWrap","id","fab","class","fabCon","text","fabAlert","appendTo","body","addClass","siblings","setItem","changed","add","item","skipUpdate","msg","qty","push","save","remove","skip","notifications","update","get","count","checkout","html","responseJSON","message","formValid","disableForm","c","prop","validate","con","k","v","is","val","hasClass","mukey","email","license","title","t","muid","password","firstName","lastName","setTimeout","window","location","href","redirect","fn","on","preventDefault","f","mu-signup","payment-launcher","modal-toggle","slide-bar","read-more","parent","css","display","max-height","mu-submitter","cart-fab","split","some","thenav","offsetX","offsetWidth","alert","click","promise","done","not","ld","fadeIn","X-STTV-Auth","sttv_user","value","sttv_pass","code","hide","errors","too_many_retries","fadeOut","loading","g_recaptcha_response","grecaptcha","getResponse","sttv_contact_name","sttv_contact_email","sttv_contact_subject","sttv_contact_message","sent","form","fields","fname","lname","reset","ready","material_select"],"mappings":"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","file":"sttv-js.min.js","sourcesContent":["/*\n * \n * MAIN SITE OBJECT\n * \n */\nvar _st = {\n\trequest : function(obj) {\n\t\tvar ajaxp = {\n\t\t\turl: obj.route || '',\n\t\t\tmethod: obj.method || 'GET',\n\t\t\theaders: obj.headers || {},\n\t\t\tprocessData : false,\n\t\t\tdataType : obj.dataType || 'json',\n\t\t\tsuccess: function(data){\n\t\t\t\ttypeof obj.success !== 'undefined' && obj.success(data);\n\t\t\t},\n\t\t\terror: function(x,s,r){\n\t\t\t\ttypeof obj.error !== 'undefined' && obj.error([x,s,r]);\n\t\t\t}\n\t\t}\n\t\tif (ajaxp.method !== 'GET') {\n\t\t\tajaxp['data'] = JSON.stringify(obj.cdata || {})\n\t\t}\n\t\tif (typeof obj.accepts !== 'undefined'){\n\t\t\tajaxp['accepts'] = obj.accepts\n\t\t}\n\t\t$.ajax(ajaxp)\n\t},\n\tmenu : function(cb) {\n\t\t$('body').toggleClass('nav-sidebar-open')\n\t\ttypeof cb === 'function' && cb();\n\t},\n\tcloser : function(cb) {\n\t\tjQuery('body').removeClass('nav-sidebar-open login-sidebar-open');\n\t\ttypeof cb === 'function' && cb();\n\t},\n\theartBeat : function() {\n\t\t_st.request({\n\t\t\troute : stajax.rootURL+\"/ping.php\",\n\t\t\tsuccess : function(d){\n\t\t\t\ttry {\n\t\t\t\t\tif (!d) {\n\t\t\t\t\t\tthrow new Exception('Invalid response from _st.heartBeat.');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t$(document).dequeue('heartbeat')\n\t\t\t\t\t\t} while ($(document).queue('heartbeat').length)\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror : function(x,s,r){\n\t\t\t\tMaterialize.toast('Offline', 6000);\n\t\t\t\tconsole.log(x,s,r);\n\t\t\t}\n\t\t});\n\t},\n\tlogin : function(el) {\n\t\t_st.request({\n\t\t\troute : stajax.rest.url+'/auth',\n\t\t\theaders : {\n\t\t\t\t'X-WP-Nonce' : stajax.rest.nonce,\n\t\t\t},\n\t\t\tsuccess : function(d) {\n\t\t\t\tel.append(d)\n\t\t\t\t_st.modal.loader()\n\t\t\t},\n\t\t\terror : function(x) {\n\t\t\t\tconsole.log(x)\n\t\t\t}\n\t\t})\n\t},\n\tmodal : (function() {\n\t\t$('.loading-spinner').each(function(i){\n\t\t\t$(this).attr('src',stajax.contentURL+'/i/sttv-spinner.gif')\n\t\t})\n\t\treturn {\n\t\t\taction : '',\n\t\t\telement : $('.sttvmodal_inner'),\n\t\t\tinit : function(act){\n\t\t\t\tif (typeof act === 'undefined'){\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tif (this.action === act) {\n\t\t\t\t\treturn this.toggle()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar cb;\n\t\t\t\tif (act !== 'close') {\n\t\t\t\t\tthis.action = act\n\t\t\t\t\t_st.modal.loader(function() {\n\t\t\t\t\t\t_st.modal.element.empty()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\n\t\t\t\tswitch (act) {\n\t\t\t\t\tcase 'close':\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'login':\n\t\t\t\t\t\tcb = function(el) {\n\t\t\t\t\t\t\t_st.login(el)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'account':\n\t\t\t\t\t\tcb = function(el) {\n\t\t\t\t\t\t\t//el.empty()\n\t\t\t\t\t\t\tel.append('account template')\n\t\t\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'mu-checkout':\n\t\t\t\t\t\tcb = function(el) {\n\t\t\t\t\t\t\t_st.mu.submit(el,'#mu_form_wrapper')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'mu-signup':\n\t\t\t\t\t\tcb = function(el) {\n\t\t\t\t\t\t\t_st.mu.register(el,'#mu_form_wrapper')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'sttv-cart':\n\t\t\t\t\tcase 'checkout':\n\t\t\t\t\t\tcb = function(el) {\n\t\t\t\t\t\t\t_st.cart.submit(true,el)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tthis.toggle(cb)\n\t\t\t},\n\t\t\ttoggle : function(cb) {\n\t\t\t\t$('body').toggleClass('modal-open')\n\t\t\t\ttypeof cb === 'function' && cb(_st.modal.element)\n\t\t\t},\n\t\t\tloader : function(cb) {\n\t\t\t\t$('#sttvmodal').toggleClass('loader-active')\n\t\t\t\ttypeof cb === 'function' && cb(_st.modal.element)\n\t\t\t}\n\t\t}\n\t})(),\n\tcart : (function(){\n\t\tif ( stajax.type === 'courses' ) {\n\t\t\treturn false\n\t\t}\n\t\tvar cartObj = JSON.parse(localStorage.getItem('_stcart_'))\n\t\tvar initDate = Date.now()\n\t\tif ( cartObj === null || (cartObj.ID / 1000 | 0) + (86400) < initDate / 1000 | 0 ) {\n\t\t\tcartObj = {\n\t\t\t\tID : initDate,\n\t\t\t\tsignature : btoa(navigator.userAgent+'|'+navigator.platform+'|'+navigator.product).replace(/=/g,''),\n\t\t\t\titems : {}\n\t\t\t}\n\t\t}\n\n\t\tfor ( var key in cartObj.items ) {\n\t\t\tvar obj = cartObj.items[key]\n\t\t\tif ( obj.type === 'multi-user' ) {\n\t\t\t\tdelete cartObj.items[key]\n\t\t\t}\n\t\t}\n\n\t\tvar currentCount = Object.keys(cartObj.items).length\n\t\n\t\tvar fabWrap = $('<div/>',{id:'cart-FAB'}),\n\t\t\tfab = $('<a/>',{\"class\":'cart-fab btn-floating btn-large z-depth-5'}),\n\t\t\tfabCon = $('<i/>',{\"class\":'material-icons',text:'shopping_cart'}),\n\t\t\tfabAlert = $('<div/>',{\"class\":'cart-alert circle z-depth-2'})\n\t\n\t\t//$('body').addClass('sttv-jscart')\n\t\n\t\tfabWrap.append(\n\t\t\tfabAlert.text(currentCount)\n\t\t).append(\n\t\t\tfab.append(fabCon)\n\t\t).appendTo(document.body)\n\n\t\tif ( currentCount > 0 ) {\n\t\t\tfabAlert.addClass('show').siblings('.cart-fab').addClass('pulse')\n\t\t}\n\n\t\tlocalStorage.setItem('_stcart_',JSON.stringify(cartObj))\n\t\n\t\treturn {\n\t\t\tcartObj : cartObj,\n\t\t\tchanged : [],\n\t\t\tadd : function add(item,skipUpdate) {\n\t\t\t\tskipUpdate = skipUpdate || false\n\t\t\t\tif ( typeof item !== 'object' ) {\n\t\t\t\t\tthrow 'Item must be an object'\n\t\t\t\t}\n\t\t\t\tvar cart = this.cartObj.items,\n\t\t\t\t\tmsg = ''\n\t\n\t\t\t\tif ( typeof cart[item.id] === 'undefined' ) {\n\t\t\t\t\tcart[item.id] = item\n\t\t\t\t\tmsg = 'Item added'\n\t\t\t\t} else {\n\t\t\t\t\tif ( item.type !== 'subscription') {\n\t\t\t\t\t\tcart[item.id].qty += item.qty\n\t\t\t\t\t\tmsg = 'Quantity updated'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tthis.changed.push(item.id)\n\t\t\t\tthis.save(skipUpdate)\n\t\t\t\treturn msg\n\t\t\t},\n\t\t\tremove : function(item,skipUpdate) {\n\t\t\t\tskipUpdate = skipUpdate || false\n\t\t\t\tif (typeof item !== 'string' ){\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tdelete this.cartObj.items[item]\n\t\t\t\treturn this.save(skipUpdate)\n\t\t\t},\n\t\t\tempty : function(cb) {\n\t\t\t\tthis.cartObj.items = {}\n\t\t\t\tthis.save()\n\t\t\t\treturn typeof cb === 'function' && cb(this)\n\t\t\t},\n\t\t\tsave : function(skip) {\n\t\t\t\tlocalStorage.setItem('_stcart_',JSON.stringify(this.cartObj))\n\t\t\t\treturn !skip && this.notifications.update()\n\t\t\t},\n\t\t\tget : function() {\n\t\t\t\treturn this.cartObj.items\n\t\t\t},\n\t\t\tnotifications : {\n\t\t\t\tcount : currentCount,\n\t\t\t\telement : fabAlert,\n\t\t\t\tupdate : function() {\n\t\t\t\t\tthis.count = Object.keys(_st.cart.cartObj.items).length\n\t\t\t\t\tif ( this.count <= 0 ) {\n\t\t\t\t\t\t$('.cart-alert').removeClass('show').siblings('.cart-fab').removeClass('pulse')\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.cart-alert').addClass('show').siblings('.cart-fab').addClass('pulse')\n\t\t\t\t\t}\n\t\t\t\t\t$('.cart-alert').text(this.count)\n\t\t\t\t\treturn this.count\n\t\t\t\t}\n\t\t\t},\n\t\t\tsubmit : function(init,el) {\n\t\t\t\tvar data = {\n\t\t\t\t\tinit : init || false,\n\t\t\t\t\tcart : this.get()\n\t\t\t\t}\n\t\n\t\t\t\t_st.request({\n\t\t\t\t\troute : stajax.rest.url+'/checkout',\n\t\t\t\t\tmethod : 'POST',\n\t\t\t\t\tcdata : data,\n\t\t\t\t\theaders : {\n\t\t\t\t\t\t'X-WP-Nonce' : stajax.rest.nonce,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess : function(d) {\n\t\t\t\t\t\t_st.checkout = 'subscription'\n\t\t\t\t\t\tel.append(d.html)\n\t\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\t\tconsole.log(d)\n\t\t\t\t\t},\n\t\t\t\t\terror : function(x) {\n\t\t\t\t\t\tvar d = x[0].responseJSON\n\t\n\t\t\t\t\t\t$('.message',el).text(d.message)\n\t\t\t\t\t\t_st.modal.toggle(function() {\n\t\t\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconsole.log(d)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})(),\n\tcheckout : '',\n\tmu : {\n\t\tformValid : false,\n\t\tdisableForm : function(c) {\n\t\t\t$('.signup-submit',c).prop('disabled',!this.formValid)\n\t\t},\n\t\tvalidate : function(el,con) {\n\t\t\tvar inputs = $('input,select',con)\n\t\t\tinputs.each(function(k,v){\n\t\t\t\tif ( $(this).is(':required') && ( ( $(this).val() && !$(this).hasClass('invalid') ) || $(this).hasClass('valid') ) ) {\n\t\t\t\t\t_st.mu.formValid = true\n\t\t\t\t} else {\n\t\t\t\t\t_st.mu.formValid = false\n\t\t\t\t\t_st.mu.disableForm(con)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t})\n\t\t\t_st.mu.disableForm(con)\n\t\t},\n\t\tsubmit : function(el,con) {\n\t\t\tvar data = {\n\t\t\t\tmukey : $('input[name=mukey]',con).val(),\n\t\t\t\temail : $('input[name=email]',con).val(),\n\t\t\t\tlicense : {\n\t\t\t\t\tid : $('select[name=sttv_course_id]',con).val(),\n\t\t\t\t\ttitle : $('select[name=sttv_course_id] option:selected',con).text(),\n\t\t\t\t\tqty : $('select[name=qty]',con).val()\n\t\t\t\t}\n\t\t\t},\n\t\t\ttype = 'multi-user'\n\n\t\t\t_st.request({\n\t\t\t\troute : stajax.rest.url+'/multi-user',\n\t\t\t\tmethod : 'POST',\n\t\t\t\tcdata : data,\n\t\t\t\theaders : {\n\t\t\t\t\t'X-WP-Nonce' : stajax.rest.nonce,\n\t\t\t\t},\n\t\t\t\tsuccess : function(d) {\n\t\t\t\t\t_st.checkout = type\n\t\t\t\t\t_st.cart.empty(function(t) {\n\t\t\t\t\t\tt.add(d.data,true)\n\t\t\t\t\t})\n\t\t\t\t\tel.append(d.html)\n\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\tconsole.log(d)\n\t\t\t\t},\n\t\t\t\terror : function(x) {\n\t\t\t\t\tvar d = x[0].responseJSON\n\n\t\t\t\t\t$('.message',con).text(d.message)\n\t\t\t\t\t_st.modal.toggle(function() {\n\t\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(d)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tregister : function(el,con) {\n\n\t\t\tvar data = {\n\t\t\t\tmuid : $('input[name=mukey]',con).val(),\n\t\t\t\temail : $('input[name=sttv_email]',con).val(),\n\t\t\t\tpassword : $('input[name=sttv_password]',con).val(),\n\t\t\t\tfirstName : $('input[name=sttv_firstname]',con).val(),\n\t\t\t\tlastName : $('input[name=sttv_lastname]',con).val()\n\t\t\t}\n\n\t\t\t_st.request({\n\t\t\t\troute : stajax.rest.url+'/checkout',\n\t\t\t\tmethod : 'POST',\n\t\t\t\tcdata : data,\n\t\t\t\theaders : {\n\t\t\t\t\t'X-WP-Nonce' : stajax.rest.nonce,\n\t\t\t\t},\n\t\t\t\tsuccess : function(d) {\n\t\t\t\t\tel.append(d.html)\n\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\twindow.location.href = d.data.redirect\n\t\t\t\t\t},2000) \n\t\t\t\t\tconsole.log(d)\n\t\t\t\t},\n\t\t\t\terror : function(x) {\n\t\t\t\t\tconsole.log(x)\n\t\t\t\t\tvar d = x[0].responseJSON\n\n\t\t\t\t\t$('.message',con).text(d.message)\n\t\t\t\t\t_st.modal.toggle(function() {\n\t\t\t\t\t\t_st.modal.loader()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tfn : function() {}\n};\n\n\n/*\n * \n * EVENT HANDLERS\n * \n */\n( function ( $ ) { //begin wrapper\n\t\"use strict\";\n\n// Opener functions\n\n$('input, select','#mu_form_wrapper').on('change',function(e){\n\t_st.mu.validate(this,'#mu_form_wrapper')\n\t_st.modal.action = ''\n})\n\nvar selectors = '.slide-bar, .modal-toggle, .mu-signup, .read-more, .mu-submitter, .cart-fab, .payment-launcher'\n$(document).on('click touchstart',selectors,function(e) {\n\te.preventDefault();\n\tvar t = $(this);\n\t//var s = e.handleObj.selector.split(/,\\s+/);\n\tvar c = t.attr('class').split(/\\s+/);\n\n\tvar f = {\n\t\t'mu-signup' : function() {\n\t\t\t_st.modal.init('mu-signup')\n\t\t},\n\t\t'payment-launcher' : function() {\n\t\t\t_st.cart.add(JSON.parse(t.attr('data-bind')))\n\t\t\t_st.modal.init(t.attr('data-action'));\n\t\t},\n\t\t'modal-toggle' : function() {\n\t\t\t_st.modal.init(t.attr('data-action'));\n\t\t},\n\t\t'slide-bar' : function() {\n\t\t\t_st.menu()\n\t\t},\n\t\t'read-more' : function() {\n\t\t\tt.parent().css({'display':'none'});\n\t\t\t$('#content-wrapper').css({'max-height':'none'});\n\t\t},\n\t\t'mu-submitter' : function() {\n\t\t\t_st.modal.init('mu-checkout')\n\t\t},\n\t\t'cart-fab' : function() {\n\t\t\t_st.modal.init('sttv-cart')\n\t\t}\n\t}\n\n\tc.some(function(v){typeof f[v] !== 'undefined' && f[v]()});\n});\n\t\nvar thenav = $('body.nav-sidebar-open #main-nav');\nthenav.on('click touchstart',function(e) {\n\tif (e.offsetX > thenav.offsetWidth) {\n\t\talert('Clicked!');\n\t\te.preventDefault();\n\t\t_st.closer();\n\t}\n});\n\n$('li.menu-item-has-children>a').click(function(e) {\n\te.preventDefault();\n\t$(this).siblings('ul.sub-menu').toggleClass('active').promise().done(function(){\n\t\t$('ul.sub-menu').not(this).removeClass('active');\n\t});\n});\n\n$(document).on('submit','form#sttv_login_form',function(e) {\n\te.preventDefault();\n\tif (0 === $('#sttv_user').val().length){\n\t\t$('.message').html('Username is required')\n\t\treturn;\n\t}\n\n\tvar loader = '<img src=\"'+stajax.contentURL+'/i/sttv-spinner.gif\" alt=\"Loading...\" />',\n\t\tld = $('.loading_overlay');\n\tld.append(loader).promise().done(function(){\n\t\t$(this).fadeIn(250);\n\t});\n\n\t_st.request({\n\t\troute : stajax.rest.url+'/auth?action=login',\n\t\tmethod : 'POST',\n\t\theaders : {\n\t\t\t'X-WP-Nonce' : stajax.rest.nonce,\n\t\t\t'X-STTV-Auth' : btoa(this.sttv_user.value+':'+this.sttv_pass.value)\n\t\t},\n\t\tsuccess : function(data) {\n\t\t\tif ( data.code == 'login_success' ) {\n\t\t\t\tld.empty().html('<p class=\"sblock\"><strong><i class=\"material-icons\">done</i></strong></p>').fadeIn(250)\n\t\t\t\t$('.sblock').hide().fadeIn(250)\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\twindow.location.href = data.redirect\n\t\t\t\t},250);\n\t\t\t}\n\t\t},\n\t\terror : function(x) {\n\t\t\tvar data = x[0].responseJSON,\n\t\t\t\tmsg = ( typeof data.errors.too_many_retries !== 'undefined') ? data.errors.too_many_retries[0] : data.message;\n\n\t\t\t$('.message').html(msg)\n\t\t\tld.fadeOut(250)\n\t\t\tconsole.log(data)\n\t\t}\n\t})\n});\n\n$('form#sttv_contact').on('submit',function(e) {\n\te.preventDefault();\n\tvar loading = $('.loading_overlay',$(this).parent()).html('<img src=\"'+stajax.contentURL+'/i/sttv-spinner.gif\" alt=\"Loading...\" />')\n\n\tloading.fadeIn(250)\n\n\t_st.request({\n\t\troute : stajax.rest.url+'/contact',\n\t\tmethod : 'POST',\n\t\theaders : {\n\t\t\t'X-WP-Nonce' : stajax.rest.nonce\n\t\t},\n\t\tcdata : {\n\t\t\tg_recaptcha_response : grecaptcha.getResponse(),\n\t\t\tsttv_contact_name: this.sttv_contact_name.value,\n\t\t\tsttv_contact_email: this.sttv_contact_email.value,\n\t\t\tsttv_contact_subject: this.sttv_contact_subject.value,\n\t\t\tsttv_contact_message: this.sttv_contact_message.value\n\t\t},\n\t\tsuccess : function(data) {\n\t\t\tconsole.log(data)\n\t\t\tif ( data.sent ) {\n\t\t\t\tloading.empty().html('<p class=\"sblock\"><strong><i class=\"material-icons\">done</i></strong></p>').fadeIn(250)\n\t\t\t\tvar s = $('.sblock');\n\t\t\t\tvar p = $('<p/>',{\"class\":\"smessage\"});\n\t\t\t\tp.appendTo(s).append(data.message);\n\t\t\t\t$('.sblock').hide().fadeIn(250)\n\t\t\t} else {\n\t\t\t\t$('.message').html(data.message)\n\t\t\t\tloading.fadeOut(250)\n\t\t\t}\n\t\t},\n\t\terror : function(x) {\n\t\t\t$('.message').html('Something went wrong. Please refresh the page and try again.')\n\t\t\tloading.fadeOut(250)\n\t\t\tconsole.log(x)\n\t\t}\n\t})\n\t\n  });\n\n\t$('#subscribe_page_mc').on('submit',function(e){\n\t\te.preventDefault();\n\t\tvar form = $(this)\n\n\t\tvar loading = $('.loading_overlay',$(this).parent()).html('<img src=\"'+stajax.contentURL+'/i/sttv-spinner.gif\" alt=\"Loading...\" />')\n\n\t\tloading.fadeIn(250)\n\n\t\tvar fields = {\n\t\t\tfname : $('#sttv_mc_fname',form).val(),\n\t\t\tlname : $('#sttv_mc_lname',form).val(),\n\t\t\temail : $('#sttv_mc_email',form).val(),\n\t\t\tg_recaptcha_response : grecaptcha.getResponse()\n\t\t}\n\t\t\n\t\t_st.request({\n\t\t\troute : stajax.rest.url+'/subscribe',\n\t\t\tmethod : 'POST',\n\t\t\tcdata : fields,\n\t\t\theaders : {'X-WP-Nonce' : stajax.rest.nonce},\n\t\t\tsuccess : function(d){\n\t\t\t\t$('input, button',form).prop('disabled',true)\n\t\t\t\tgrecaptcha.reset()\n\t\t\t\tloading.empty().html('<p class=\"sblock\"><strong><i class=\"material-icons\">done</i></strong></p>').fadeIn(250)\n\t\t\t\tvar s = $('.sblock');\n\t\t\t\tvar p = $('<p/>',{\"class\":\"smessage\"});\n\t\t\t\tp.appendTo(s).append(d.message);\n\t\t\t\t$('.sblock').hide().fadeIn(250)\n\t\t\t\tconsole.log(d)\n\t\t\t},\n\t\t\terror : function(x){\n\t\t\t\t$('.message',form).html('Something went wrong. Please refresh the page and try again.')\n\t\t\t\tloading.fadeOut(250)\n\t\t\t\tconsole.log(x)\n\t\t\t}\n\t\t})\n\t});\n\n} ( jQuery ) ); //end wrapper","( function ( $ ) { //begin wrapper\n\t\"use strict\";\n\t\n\t$(document).ready(function() {\n    \t$('select').material_select();\n\t  });\n  \n  } ( jQuery ) ); //end wrapper"]}